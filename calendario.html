<!DOCTYPE html>
<html lang="es">
<head>
  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.7/index.global.min.js'></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  
     <script>
      document.addEventListener('DOMContentLoaded', function() {
        let calendarEl = document.getElementById('calendar');
        let modalEl = document.getElementById('eventoModal');
        let diaSeleccionadoEl = document.getElementById('diaSeleccionado');
        let btnAltaReserva = document.getElementById('altaReservaBtn');
        let altaReserva = document.getElementById('altaReserva')
        let BtnConsultaReserva = document.getElementById('consultaReservaBtn')
        let consultaReserva = document.getElementById('consultaReserva')
        let btnGuardar = document.getElementById('btnGuardar')
        let btnBuscarCliente = document.getElementById('btnBuscarCliente');
        let btnCli = document.getElementById('btnCli')
        


        
        $(btnCli).click(function() {
          // $("#btnGuardar").show();
          // $("#consultaClienteModal").show();
          $("#consultaClienteModal").hide();
        });



        $("#consultaClienteModal").hide();
        $(btnBuscarCliente).click(function() {
          // $("#btnGuardar").show();
          $("#consultaClienteModal").show();
        });



        // Mostrar ventana "Alta Reserva" al hacer clic en "Alta Reserva" en el navbar
        $("#consultaReserva").hide();
        $(btnAltaReserva).click(function() {
          $("#btnGuardar").show();
          $("#altaReserva").show();
          $("#consultaReserva").hide();
        });
 
          // Mostrar ventana "Consulta Reserva" al hacer clic en "Consulta Reserva" en el navbar
          $(BtnConsultaReserva).click(function() {
            $("#altaReserva").hide();
            $("#btnGuardar").hide();
            $("#consultaReserva").show();
          });

        var calendar = new FullCalendar.Calendar(calendarEl, {selectable: true, // Habilita la selección de fechas
          events: [
            {
              title  : 'Grande:16:00',
              start  : '2023-05-23',
              color: 'green',
            },
            {
              title  : 'Grande:18:00hs',
              start  : '2023-05-23',
              color: 'green',
            },
            {
              title  : 'Grande:18:00hs',
              start  : '2023-05-23',
              color: 'green',
            },
        
            {
              title  : 'Chica: 20:00',
              start  : '2023-05-24',
              color: 'green',
            },
            {
              title  : 'Chica: 20:00',
              start  : '2023-05-26',
              color: 'green',
            },
            {
              title  : 'Chica: 20:00',
              start  : '2023-05-29',
              color: 'green',
            },
          ],
          dateClick: function(info){
            var today = new Date();
            console.log(today);
            var fechaSeleccionada = new Date(info.dateStr);
            fechaSeleccionada.setHours(0, 0, 0, 0); // Establecer la hora a 00:00:00 para comparar solo las fechas
            console.log(info.start);
              // if(fechaSeleccionada >= fechaSeleccionada -1 || fechaSeleccionada.toDateString() === today.toDateString()){
                
                  $(modalEl).modal('show'); // Abre el modal al hacer clic en un día
                  var dia = fechaSeleccionada.getDate()+1;
                  var mes = fechaSeleccionada.getMonth() + 1; // Los meses en JavaScript comienzan desde 0
                  var anio = fechaSeleccionada.getFullYear();
                  // Formatear la fecha seleccionada como "d-m-a"
                  var fechaFormateada = dia + '-' + mes + '-' + anio;
                  // Mostrar el día seleccionado en el modal
                  diaSeleccionadoEl.innerText = 'Fecha Seleccionada: ' + fechaFormateada;
              // }
            
          },
          initialView: 'dayGridMonth',
            buttonText: {
            today: 'Hoy',
            month: 'Mes',
            week: 'Semana',
            day: 'Día',
          },
          headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: 'dayGridMonth,timeGridWeek,timeGridDay',
          },
            height: 650,
            selectable: true,
            locale: 'es',
        });

        calendar.render();
      });
     
    </script>
    <meta charset="UTF-8">
    <link href="bootstrap-5.1.3-dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="css/transparencia.css" rel="stylesheet"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Calendario</title>
</head>
<body>

    <div class="container-fluid navbar-dark bg-dark d-flex justify-content-center">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark  text-center">
        <div class="container">
          <a class="navbar-brand" href="#">SGR</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            
            <ul class="navbar-nav">
              
              <li class="nav-item">
                <a class="nav-link" href="calendario.html">Calendario</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                 Gestion Reservas
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <li><a class="dropdown-item" href="consultarReservaPorCliente.html">Consultar Reservas por Cliente</a></li>
                      <!-- <li><a class="dropdown-item" href="consulta cliente.html">Consultar Reservas por Cancha</a></li> -->
                </ul>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                 Gestion Cliente
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <li><a class="dropdown-item" href="alta cliente.html">Alta de Cliente</a></li>
                  <li><a class="dropdown-item" href="consulta cliente.html">Consultar Cliente</a></li>
                </ul>
              </li>
              
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                 Gestion Cancha
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <li><a class="dropdown-item" href="alta cancha.html">Alta de Cancha</a></li>
                  <li><a class="dropdown-item" href="consultar cancha.html">Consultar Cancha</a></li>
                </ul>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                 Gestion Usuario
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <li><a class="dropdown-item" href="alta usuario.html">Alta de Cancha</a></li>
                  <li><a class="dropdown-item" href="consultar usuario.html">Consultar Usuario</a></li>
                </ul>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                 Reportes
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <li><a class="dropdown-item" href="consultaEpagoReservas.html">Estado de pagos de Reservas</a></li>
                  <li><a class="dropdown-item" href="recaudacion.html">Recaudación</a></li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="login.html">Salir</a>
              </li>
            </ul>
            
          </div>
        </div>
      </nav>
  </div>


<!-- Modal Principal -->
<div class="modal fade" id="eventoModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header d-flex justify-content-center">
        <h1 class="modal-title display-6 text-center" id="exampleModalLabel">Gestión de la Reserva</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark justify-content-center text-center">
          <div class="container-fluid justify-content-center text-center">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" id="altaReservaBtn" href="#">Alta Reserva</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="consultaReservaBtn" href="#">Consultar Reservas de la Fecha</a>
              </li>
            </ul>
          </div>
        </nav>

        <!-- Modal Alta Reserva -->
      <div class="modal-body">
          <div id="altaReserva" class="modal-window">
            <form>
              <div class="m-1">
                <p id="diaSeleccionado" class="text-center"></p>
            </div>

              <div class="mb-3 row">
                <div class="col-11">
                  <input type="text" class="form-control" id="recipient-name" placeholder="Buscar Cliente">
                </div>
                <div class="col-1 d-flex align-items-center">
                  <i class="fa-sharp fa-solid fa-magnifying-glass" id="btnBuscarCliente"></i>
                </div>
                    <!-- modal consultar cliente  -->
                  <div class="modal-dialog col-8" id="consultaClienteModal">
                      <div class="modal-content">
                      <div class="modal-body">
                        <div  class="modal-window">
                          <form>
                              <div class="mb-3 row ">
                                <table class="table table-hover">
                                  <thead>
                                    <tr>
                                      
                                      <th scope="col">DNI</th>
                                      <th scope="col">Nombre</th>
                                      <th scope="col">Apellido</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr>
                                      <td>37909102</td>
                                      <td>Jose</td>
                                      <td>Maldonado</td>
                                      <td><button class="btn btn-outline-dark">Seleccionar</button></td>
                                    </tr>
                                    <tr>
                                      <td>36987444</td>
                                      <td>Ariel</td>
                                      <td>Maldonado</td>
                                      <td><button id="btnCli" class="btn btn-outline-dark">Seleccionar</button></td>
                                    </tr>
                     
                                  </tbody>
                                </table>
                            </div>
                          </form>
                      </div>
                      </div>
                    </div>
              </div>
             </div>
              <div class="mb-3">
                <select class="form-select cancha" >
                  <option selected>Selecciona Cancha</option>
                  <option value="1">Grande</option>
                  <option value="2">Mediana</option>
                  <option value="3">Chica</option>
                </select>
              </div>

              <div class="mb-3">
                <select class="form-select horario" >
                  <option selected>Selecciona Horario</option>
                  <option value="1">10:00</option>
                  <option value="2">11:00</option>
                  <option value="3">12:00</option>
                  <option value="4">13:00</option>
                  <option value="5">14:00</option>
                  <option value="6">15:00</option>
                  <option value="7">16:00</option>
                  <option value="8">17:00</option>
                  <option value="9">18:00</option>
                  <option value="10">19:00</option>
                  <option value="11">20:00</option>
                  <option value="12">21:00</option>
                  <option value="13">22:00</option>
                  <option value="14">23:00</option>
                </select>
              </div>
              <div class="mb-3">
                <select class="form-select estadoDePago" >
                  <option selected>Selecciona estado de pago</option>
                  <option value="1">Total</option>
                  <option value="2">Seña</option>
                  <option value="3">Impago</option>
              </select>
              </div>
              <div class="mb-3">
                <input type="number" class="form-control" id="recipient-name" placeholder="Ingrese monto">
              </div>

              <div class="mb-3">
                <textarea class="form-control" id="message-text" placeholder="Ingrese Observaciones"></textarea>
              </div>
            </form>
        </div>
<!-- modal consultar reserva  -->

            <div class="modal-body">

                <div id="consultaReserva" class="modal-window">
                  <select class="form-select mb-3" aria-label="Default select example">
                    <option selected>Filtra por Cancha</option>
                    <option value="1">Grande</option>
                    <option value="2">Mediana</option>
                    <option value="3">Chica</option>
                  </select>
                  <form>

                  <table class="table table-hover form-control mb-3">
                    <thead>
                      <tr>
                        
                        <th scope="col">Cliente</th>
                        <th scope="col">Horario</th>
                        <th scope="col">Cancha</th>
                        <th scope="col">E. Pago</th>
                        <th scope="col">Observaciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>Maldonado Jose</td>
                        <td>16:00</td>
                        <td>Mediana</td>
                        <td>Pago Total</td>
                        <td>Asistiran 5 min tarde</td>
                        <td><a class="display-8" href="#">Eliminar</a></td>
                        <td><a class="display-8" href="#">Modificar</a></td>
                      </tr>
                      <tr>
                        <td>Sandez Ariel</td>
                        <td>19:00</td>
                        <td>Mediana</td>
                        <td>Seña</td>
                        <td>Debe 4.500</td>
                        <td><a class="display-8" href="#">Eliminar</a></td>
                        <td><a class="display-8" href="#">Modificar</a></td>
                      </tr>
                      <tr>
                        <td>Montesinos Cristian</td>
                        <td>21:00</td>
                        <td>Grande</td>
                        <td>Pago Total</td>
                        <td>Les falta jugadores</td>
                        <td><a class="display-8" href="#">Eliminar</a></td>
                        <td><a class="display-8" href="#">Modificar</a></td>
                      </tr>
                      <tr>
                        <td>Montesinos Cristian</td>
                        <td>21:00</td>
                        <td>Grande</td>
                        <td>Pago Total</td>
                        <td>Les falta jugadores</td>
                        <td><a class="display-8" href="#">Eliminar</a></td>
                        <td><a class="display-8" href="#">Modificar</a></td>
                      </tr>
                      <tr>
                        <td>Montesinos Cristian</td>
                        <td>21:00</td>
                        <td>Grande</td>
                        <td>Pago Total</td>
                        <td>Les falta jugadores</td>
                        <td><a class="display-8" href="#">Eliminar</a></td>
                        <td><a class="display-8" href="#">Modificar</a></td>
                      </tr>
                      <tr>
                        <td>Montesinos Cristian</td>
                        <td>21:00</td>
                        <td>Grande</td>
                        <td>Pago Total</td>
                        <td>Les falta jugadores</td>
                        <td><a class="display-8" href="#">Eliminar</a></td>
                        <td><a class="display-8" href="#">Modificar</a></td>
                      </tr>
                      <tr>
                        <td>Montesinos Cristian</td>
                        <td>21:00</td>
                        <td>Grande</td>
                        <td>Pago Total</td>
                        <td>Les falta jugadores</td>
                        <td><a class="display-8" href="#">Eliminar</a></td>
                        <td><a class="display-8" href="#">Modificar</a></td>
                      </tr>                 
                    </tbody>
                  </table>

                  </form>
                </div>
            </div>
            <!-- fin consulta reserva -->
           
            <div class="modal-footer d-flex justify-content-center">
              <button id="btnGuardar" type="button" class="btn btn-dark">Guardar</button>
            </div>
          </div>
        </div>
      </div>
    </div>  
    



<body>
  <div class="container">
    <div class="row col-12">
      <div id='calendar'></div>
    </div>
    
  </div>
</body>
 
  <script src="bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script>  
  <script src="calendario.js"></script>  


</html>